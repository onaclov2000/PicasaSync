import gdata.photos.service
import gdata.media
import gdata.geo
import urllib
import urllib2
import os

def print_albums(user, gd):

   albums = gd.GetUserFeed(user=user)
   i = 0
   print 'Albums Available\n'
   for album in albums.entry:
     #print album.summary.text
      print '%i: %s' % (i, album.title.text)
      i += 1   
      if (i%10 == 0):
         rawr = raw_input('Press Enter to see more Albums')


def sync_album(gd_client_source, gd_client_destination, index):
   if Source_Album_Exists == 1:
      print "Right Side Album Contents\n"
      photos = gd_client_source.GetFeed(
      '/data/feed/api/user/%s/albumid/%s?kind=photo' % (

        gd_client_source.email, Source_Album.gphoto_id.text))
      if Destination_Album_Exists == 0:
         Destination_Album = gd_client_destination.InsertAlbum(title=Source_Album.title.text, summary='Autogenerated via PicasaAlbumSync')
         print "Created Album"
      for photo in photos.entry:
         source = set(photos.entry)
         print 'Photo title:', photo.title.text
         # this I'm really not sure what it does behind the scenes, I assume it 'caches' the picture
         photoUrl = urllib2.urlopen(photo.GetMediaURL())
         album_url = '/data/feed/api/user/%s/albumid/%s' % (gd_client_destination.email, Source_Album.gphoto_id.text)
         updated_photo = gd_client_destination.InsertPhotoSimple(Destination_Album, photo.title.text, 
         '', photoUrl, content_type='image/jpeg')

   else:
      print "No Album on the Right Side\n\n\n"

def login(email=None, password=None):
   if email is None:
      email = raw_input('Enter your Email Address:')

   if password is None:
      password = raw_input('Enter your password:')

   gd = gdata.photos.service.PhotosService() 
   gd.email = email # email
   gd.password = password 
   gd.source = 'SyncPicasaAlbum'
   gd.ProgrammaticLogin()
   return gd

gd_client = login(password ='okgiugplnzlcywlz')
print_albums(gd_client.email, gd_client)
selected_album = input('Select Album:')

